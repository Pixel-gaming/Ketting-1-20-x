--- a/net/minecraft/server/network/ServerLoginPacketListenerImpl.java
+++ b/net/minecraft/server/network/ServerLoginPacketListenerImpl.java
@@ -??,? +_,? @@ likely moved to UUIDUtil.createOfflineProfile
-   protected static GameProfile createOfflineProfile(String p_297551_) {
-      UUID uuid = UUIDUtil.createOfflinePlayerUUID(p_297551_);
-      return new GameProfile(uuid, p_297551_);
+
+   // Spigot start
+   protected GameProfile createOfflineProfile(String p_297551_) {
+      UUID uuid;
+      if ( connection.spoofedUUID != null )
+      {
+         uuid = connection.spoofedUUID;
+      } else
+      {
+         uuid = UUIDUtil.createOfflinePlayerUUID( p_297551_ );
+      }
+
+      GameProfile gameProfile = new GameProfile( uuid, p_297551_ );
+
+      if (connection.spoofedProfile != null)
+      {
+         for ( com.mojang.authlib.properties.Property property : connection.spoofedProfile )
+         {
+            if ( !ServerHandshakePacketListenerImpl.PROP_PATTERN.matcher( property.name()).matches() ) continue;
+            gameProfile.getProperties().put( property.name(), property );
+         }
+      }
+
+      return gameProfile;
+      // Spigot end
    }