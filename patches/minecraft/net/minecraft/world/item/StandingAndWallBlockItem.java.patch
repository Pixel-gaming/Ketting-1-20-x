--- a/net/minecraft/world/item/StandingAndWallBlockItem.java
+++ b/net/minecraft/world/item/StandingAndWallBlockItem.java
@@ -28,7 +_,7 @@
    protected BlockState m_5965_(BlockPlaceContext p_43255_) {
       BlockState blockstate = this.f_43246_.m_5573_(p_43255_);
       BlockState blockstate1 = null;
-      LevelReader levelreader = p_43255_.m_43725_();
+      net.minecraft.world.level.Level levelreader = p_43255_.m_43725_();
       BlockPos blockpos = p_43255_.m_8083_();
 
       for(Direction direction : p_43255_.m_6232_()) {
@@ -41,11 +_,28 @@
          }
       }
 
-      return blockstate1 != null && levelreader.m_45752_(blockstate1, blockpos, CollisionContext.m_82749_()) ? blockstate1 : null;
+      // CraftBukkit start
+      if (blockstate1 != null) {
+         boolean defaultReturn = levelreader.m_45752_(blockstate1, blockpos, CollisionContext.m_82749_());
+         org.bukkit.entity.Player player = (p_43255_.m_43723_() instanceof net.minecraft.server.level.ServerPlayer) ? (org.bukkit.entity.Player) p_43255_.m_43723_().getBukkitEntity() : null;
+
+         org.bukkit.event.block.BlockCanBuildEvent event = new org.bukkit.event.block.BlockCanBuildEvent(org.bukkit.craftbukkit.v1_20_R2.block.CraftBlock.at(levelreader, blockpos), player, org.bukkit.craftbukkit.v1_20_R2.block.data.CraftBlockData.fromData(blockstate1), defaultReturn);
+         p_43255_.m_43725_().getCraftServer().getPluginManager().callEvent(event);
+
+         return (event.isBuildable()) ? blockstate1 : null;
+      } else {
+         return null;
+      }
+      // CraftBukkit end
    }
 
    public void m_6192_(Map<Block, Item> p_43252_, Item p_43253_) {
       super.m_6192_(p_43252_, p_43253_);
       p_43252_.put(this.f_43246_, p_43253_);
+   }
+
+   public void removeFromBlockToItemMap(Map<Block, Item> blockToItemMap, Item itemIn) {
+      super.removeFromBlockToItemMap(blockToItemMap, itemIn);
+      blockToItemMap.remove(this.f_43246_);
    }
 }
