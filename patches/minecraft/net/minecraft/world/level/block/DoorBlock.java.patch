--- a/net/minecraft/world/level/block/DoorBlock.java
+++ b/net/minecraft/world/level/block/DoorBlock.java
@@ -178,14 +_,29 @@
    }
 
    public void m_6861_(BlockState p_52776_, Level p_52777_, BlockPos p_52778_, Block p_52779_, BlockPos p_52780_, boolean p_52781_) {
-      boolean flag = p_52777_.m_276867_(p_52778_) || p_52777_.m_276867_(p_52778_.m_121945_(p_52776_.m_61143_(f_52730_) == DoubleBlockHalf.LOWER ? Direction.UP : Direction.DOWN));
-      if (!this.m_49966_().m_60713_(p_52779_) && flag != p_52776_.m_61143_(f_52729_)) {
-         if (flag != p_52776_.m_61143_(f_52727_)) {
-            this.m_245755_((Entity)null, p_52777_, p_52778_, flag);
-            p_52777_.m_142346_((Entity)null, flag ? GameEvent.f_157796_ : GameEvent.f_157793_, p_52778_);
+      // CraftBukkit start
+      BlockPos otherHalf = p_52778_.m_121945_(p_52776_.m_61143_(DoorBlock.f_52730_) == DoubleBlockHalf.LOWER ? Direction.UP : Direction.DOWN);
+      org.bukkit.World bworld = p_52777_.getWorld();
+      org.bukkit.block.Block bukkitBlock = bworld.getBlockAt(p_52778_.m_123341_(), p_52778_.m_123342_(), p_52778_.m_123343_());
+      org.bukkit.block.Block blockTop = bworld.getBlockAt(otherHalf.m_123341_(), otherHalf.m_123342_(), otherHalf.m_123343_());
+
+      int power = bukkitBlock.getBlockPower();
+      int powerTop = blockTop.getBlockPower();
+      if (powerTop > power) power = powerTop;
+      int oldPower = p_52776_.m_61143_(DoorBlock.f_52729_) ? 15 : 0;
+
+      if (oldPower == 0 ^ power == 0) {
+         org.bukkit.event.block.BlockRedstoneEvent eventRedstone = new org.bukkit.event.block.BlockRedstoneEvent(bukkitBlock, oldPower, power);
+         p_52777_.getCraftServer().getPluginManager().callEvent(eventRedstone);
+
+         boolean flag1 = eventRedstone.getNewCurrent() > 0;
+         // CraftBukkit end
+         if (flag1 != p_52776_.m_61143_(f_52727_)) {
+            this.m_245755_((Entity)null, p_52777_, p_52778_, flag1);
+            p_52777_.m_142346_((Entity)null, flag1 ? GameEvent.f_157796_ : GameEvent.f_157793_, p_52778_);
          }
 
-         p_52777_.m_7731_(p_52778_, p_52776_.m_61124_(f_52729_, Boolean.valueOf(flag)).m_61124_(f_52727_, Boolean.valueOf(flag)), 2);
+         p_52777_.m_7731_(p_52778_, p_52776_.m_61124_(f_52729_, flag1).m_61124_(f_52727_, flag1), 2);
       }
 
    }
